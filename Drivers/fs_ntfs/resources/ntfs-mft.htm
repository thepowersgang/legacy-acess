<html>

<head>
<META NAME="Description" CONTENT="www.NTFS.com - All about NTFS File System. NTFS Reader for DOS. Data Recovery Freeware and Shareware. NTFS DOS Boot Disk.">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>NTFS.com  Master File Table.Fix MFT</title>
<link REL=stylesheet HREF="comol.css" TYPE="text/css">
</head>

<body>

 <table border="0" cellpadding="0" cellspacing="0"  width="100%">
  <tr>
    <td width="50%" height="76"><a href="http://www.ntfs.com"><img src="images/logoNTFS2.gif" alt="NTFS.com - Data Recovery Software" width="210" height="34" border="0"></a></td>
    <td width="50%" >

  <p><b><font color="#FF0000">New version! </font></b><a href="http://www.ntfs.com/boot-disk.htm">Active@ Boot Disk (Win 
Edition)</a> is a bootable Windows-based Live CD/DVD for system recovery 
purposes. </p>

    
</td>
  </tr>
  <tr>
    <td width="100%" colspan="2">
    <div align="center">
      <center>
      <table border="0" cellpadding="0" cellspacing="0" height="23" width="100%" >
        <tr>
          <td width="50%"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
          <td width="1" rowspan="4" ><img border="0" src="images/spacer.gif" ></td>
          <td width="190"><img border="0" src="images/spacer.gif" width="190" height="1"></td>
          <td width="1" rowspan="4" ><img border="0" src="images/spacer.gif"></td>
          <td width="190"><img border="0" src="images/spacer.gif" width="190" height="1"></td>
         <td width="1" rowspan="4" ><img border="0" src="images/spacer.gif" ></td>
          <td width="190"><img border="0" src="images/spacer.gif" width="190" height="1" ></td>
          <td width="1" rowspan="4" ><img border="0" src="images/spacer.gif"></td>
          <td width="50%"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
        </tr>
        <tr>
          <td width="50%" height="1"></td>
          <td nowrap width="190" height="22" rowspan="3" background="images/zakladka2.gif" >
          <p align="center">
          <a class="menu2" style="text-align: center;text-decoration:none;font-weight:bold;font-size:7pt" href="http://www.ntfs.com"><font color="#FFFFFF">NTFS GENERAL INFORMATION</font></a></p></td>
          <td width="190" height="22" rowspan="3" background="images/zakladka1.gif">
          <p align="center">
          <a class="menu2" style="text-align: center;text-decoration:none;font-weight:bold;font-size:7pt" href="products.htm"><font color="#FFFFFF">Data Recovery Software</font></a></p></td>
          <td width="190" height="22" rowspan="3" background="images/zakladka1.gif">
          <p align="center">
          <a class="menu2" style="text-align: center;text-decoration:none;font-weight:bold;font-size:7pt" href="faq.htm"><font color="#FFFFFF">QUESTIONS &amp; ANSWERS</font></a></p></td>
         
          <td width="50%" height="1"></td>

         
        </tr>
        <tr>
          <td width="50%" height="8"></td>
          <td width="50%" height="8"></td>
        </tr> <tr>
          <td width="50%" bgcolor="#284F9E" height="13"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
          <td width="50%" bgcolor="#284F9E" height="13"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
        </tr>
      </table>
      </center>
    </div>
    </td>
  </tr>
  <tr>
    <td width="100%" height="1" colspan="2"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
  </tr>
  <tr>
    <td width="100%" height="1" bgcolor="#FFCC00" colspan="2"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
  </tr>
</table>

 <table>
 <tr>
    <td width="100%" height="10">
    <p style="margin-left: 15; margin-right: 15"><a href="http://www.ntfs.com"><br>NTFS General Information</a>
    &gt; <a href="http://www.ntfs.com/ntfs_basics.htm">NTFS Basics</a> &gt; NTFS Master File Table (MFT)</P>
<h1 align="center">NTFS Master File Table (MFT)</h1>

<P>Each file on an NTFS volume is represented by a record in a special file 
called the master file table (MFT). NTFS reserves the first 16 records of the 
table for special information. The first record of this table describes the 
master file table itself, followed by a MFT <I>mirror record</I>. If the first 
MFT record is corrupted, NTFS reads the second record to find the MFT mirror 
file, whose first record is identical to the first record of the MFT. The 
locations of the data segments for both the MFT and MFT mirror file are recorded 
in the boot sector. A duplicate of the boot sector is located at the logical 
center of the disk.</P>
<P>           The third record of the 
MFT is the log file, used for file recovery. The seventeenth and following 
records of the master file table are for each file and directory (also viewed as 
a file by NTFS) on the volume.</P>
<P>Figure provides a simplified illustration of the MFT structure:</P>
<P><b>Figure 5-2 </b>MFT Structure</P>
<P><IMG src="images/NTFS-MFT-structure.gif" width="553" height="400"></P>
<P>The master file table allocates a certain amount of space for each file 
record. The attributes of a file are written to the allocated space in the MFT. 
Small files and directories (typically 1500 bytes or smaller), such as the file 
illustrated in next figure, can entirely be contained within the master file 
table record. </P>
<P><b>Figure 5-2 </b>MFT Record for a Small File or Directory:</P>
<P>
<IMG src="images/NTFS-MFT-small-file-structure.gif" width="654" height="66"></P>
<P>This design makes file access very fast. Consider, for example, the FAT file 
system, which uses a file allocation table to list the names and addresses of 
each file. FAT directory entries contain an index into the file allocation 
table. When you want to view a file, FAT first reads the file allocation table 
and assures that it exists. Then FAT retrieves the file by searching the chain 
of allocation units assigned to the file. With NTFS, as soon as you look up the 
file, it's there for you to use.</P>
<P>Directory records are housed within the master file table just like file 
records. Instead of data, directories contain index information. Small directory 
records reside entirely within the MFT structure. Large directories are 
organized into B-trees, having records with pointers to external clusters 
containing directory entries that could not be contained within the MFT 
structure.</P>
<p align="center"><a href="ntfs-partition-boot-sector.htm">previous</a> |
<a href="ntfs_basics.htm">contents</a> | <a href="ntfs-files-types.htm">next</a></p>
<P>&nbsp;</P></td>
  </tr>
  </table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td width="100%" height="1" bgcolor="#FFCC00">
    <img border="0" src="images/spacer.gif" width="11" height="1"></td>
  </tr>
  <tr>
    <td width="100%" height="2">
    <img border="0" src="images/spacer.gif" width="11" height="1"></td>
  </tr>
  <tr>
    <td width="100%" bgcolor="#284F9E" height="12"><img border="0" src="images/spacer.gif" width="11" height="1"></td>
  </tr>
  <tr>
    <td width="100%">
    <h2 align="center" class="small"><a href="http://www.ntfs.com/">NTFS.com &copy;1998-2008</a></h2></td>
  </tr>
</table>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-202618-5";
urchinTracker();
</script>


</body>

</html>